<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>US COVID-19 Smart Dashboard</title>

    <!-- Mapbox GL JS -->
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.2.0/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.2.0/mapbox-gl.js"></script>

    <!-- D3 + C3 (charting) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.16.0/d3.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.20/c3.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.20/c3.min.js"></script>

    <!-- Project styles -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <!-- ── Header ──────────────────────────────────────── -->
    <div id="header">
        <div>
            <h1> US <span>COVID-19</span> Smart Dashboard</h1>
            <p class="subtitle">Proportional Symbol Map · Case Breakdown · State Rankings</p>
        </div>
        <div id="data-source">
            Data: NYT / Johns Hopkins (2021 snapshot)<br>
            Built with Mapbox GL JS &amp; C3.js
        </div>
    </div>

    <!-- ── Main layout ──────────────────────────────────── -->
    <div id="main">

        <!-- Map panel -->
        <div id="map">
            <div id="loading">
                <div class="spinner"></div>
                Loading map data...
            </div>
        </div>

        <!-- Info panel -->
        <div id="info-panel">

            <!-- State name + instruction -->
            <div class="panel-header">
                <h2 id="state-name">Loading...</h2>
                <p id="state-details">Click a circle on the map to explore a state</p>
            </div>

            <!-- Dynamic stat counters -->
            <div id="stat-counters">
                <div class="stat-card cases">
                    <div class="stat-icon"></div>
                    <div class="stat-value" id="stat-cases">—</div>
                    <div class="stat-label">Total Cases</div>
                </div>
                <div class="stat-card deaths">
                    <div class="stat-icon"></div>
                    <div class="stat-value" id="stat-deaths">—</div>
                    <div class="stat-label">Deaths</div>
                </div>
                <div class="stat-card recovered">
                    <div class="stat-icon"></div>
                    <div class="stat-value" id="stat-recovered">—</div>
                    <div class="stat-label">Recovered</div>
                </div>
                <div class="stat-card rate">
                    <div class="stat-icon"></div>
                    <div class="stat-value" id="stat-rate">—</div>
                    <div class="stat-label">Mortality Rate</div>
                </div>
            </div>

            <!-- Bar chart -->
            <div class="section-label"> Chart</div>
            <div id="chart-container">
                <div id="chart-title">Loading chart...</div>
                <div id="bar-chart"></div>
            </div>

            <!-- Top 5 states -->
            <div class="section-label"> Top 5 States by Cases</div>
            <div id="top-list">
                <!-- Populated by JS -->
            </div>

            <!-- Legend -->
            <div class="section-label"> Map Legend</div>
            <div id="legend">
                <h4>Circle size = Total Cases</h4>
                <div class="legend-circles">
                    <div class="legend-circle-item">
                        <div class="legend-circle" style="width:12px;height:12px;"></div>
                        <span>50K</span>
                    </div>
                    <div class="legend-circle-item">
                        <div class="legend-circle" style="width:24px;height:24px;"></div>
                        <span>500K</span>
                    </div>
                    <div class="legend-circle-item">
                        <div class="legend-circle" style="width:36px;height:36px;"></div>
                        <span>1.5M</span>
                    </div>
                    <div class="legend-circle-item">
                        <div class="legend-circle" style="width:52px;height:52px;"></div>
                        <span>4M+</span>
                    </div>
                </div>
                <div style="font-size:0.68rem;color:#8b949e;margin-top:8px;">
                    Color: yellow → orange → red as cases increase
                </div>
            </div>

            <!-- Reset -->
            <button id="reset-btn">↩ Reset Dashboard</button>

        </div><!-- /info-panel -->
    </div><!-- /main -->

    <!-- Main script -->
    <script src="js/config.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
